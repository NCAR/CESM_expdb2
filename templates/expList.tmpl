<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <title>CESM2 Experiments Database</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   <meta http-equiv="cache-control" content="max-age=0" />
   <meta http-equiv="cache-control" content="no-cache" />
   <meta http-equiv="expires" content="0" />
   <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
   <meta http-equiv="pragma" content="no-cache" />
   <meta name="description" content="CESM2 Experiments Database"/>
   <meta name="keywords"    content="CESM Software Engineering Working Group"/>

   <style type="text/css" media="screen">
     @import "/styles/cesm.css"; 
     @import "/styles/teststyles.css";
     @import "/svnuser/css/svnuser.css";
     @import "/jqueryui/development-bundle/demos/demos.css";
     @import "/jqueryui/css/redmond/jquery-ui-1.8.23.custom.css";
   </style>

   <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" />
   <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css" />

   <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   <script type="text/javascript" src="/expdb2.0/scripts/popitup.js"></script>
   <script type="text/javascript" src="/expdb2.0/scripts/exp_dashboard.js"></script>  
   <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
   <script src="https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>

   <style>
      #details { 
      background-color: #c5edcb; 
      }
      .alert:hover {
      cursor: pointer;
      }
      table {
      width: 100%;
      }
      .dtr-details {
      width: 100%;
      }
      table.dataTable tbody.tbody-timing td {
      padding: 0px;
      }
   </style>

</head>

<body style="text-align: left">
  <p>
    [% INCLUDE header.tmpl %]
  </p>

  [% IF validstatus.status == 0 %]
  <div align="center">
  <span class="error">Reserve a Casename Errors:</span>
      <p>
	[% validstatus.message %]
      </p>
  </div>
 [% END %]

  <div id="dashtabs">
    <ul>
      <li><a href="#cmip6exp">CESM2 / CMIP 6 Experiments</a></li>
      <li><a href="#cesm2tune">CESM2.0 Release Experiments</a></li>
      <li><a href="#cesm2exp">CESM2 Production Experiments</a></li>
      <li><a href="#projectA">CESM2 Project A Experiments (TBD)</a></li>
      <li><a href="#projectB">CESM2 Project B Experiments (TBD)</a></li>
    </ul>

    <div id="cmip6exp">
      <div id="subtabs">
	<ul>
	  <li><a href="#DECK">DECK Experiments</a></li>
	  <li><a href="#MIP">MIP Experiments</a></li>
	  <li><a href="#DCPP">Decadal Prediction Experiments</a></li>
	  <li><a href="#NAMED">Experiments by Name</a></li>
	  <li><a href="#RESERVE_CMIP6">Reserve a CMIP6 Case Name</a></li>
	  <li><a href="#STATUS">Overall Experiment Status</a></li>
	  <li><a href="#DIAGS">Overall Experiment Diagnostics</a></li>
	</ul>
	
	<div id="DECK">
	  <a class="show-all-applying-DECK show-hide">show all</a>
	  <br/>
	  <br/>
	  <div class="DECK_accordion DECK_applying">
	    <div id="DECK_accordion">
	      [% FOREACH DECKexp IN CMIP6DECKs %]
	      <h3>[% DECKexp.name %] - [% DECKexp.description %]</h3>
	      <div id="DECK_table">
		<table id="[% DECKexp.cmip6_exp %]Table">
		  <thead>
		    <th>Case Name</th>
		    <th>CESM Experiment Name</th>
		    <th>Designing MIP</th>
		    <th>Request Date</th>
		    <th>Archive Date</th>
		  </thead>
		  <tbody>
		    [% FOREACH exp IN DECKexp.exps %]
		    <tr>
		      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
		      <td>[% exp.designMIP %]</td>
		      <td>[% exp.request_date %]</td>
		      <td>[% exp.archive_date %]</td>
		    </tr>
		    [% END %]
		  </tbody>
		</table>
	      </div>
	      [% END %]
	    </div>
	  </div>
	</div>

	<div id="MIP">
	  <a class="show-all-applying-MIP show-hide">show all</a>
	  <br/>
	  <br/>
	  <div class="MIP_accordion MIP_applying">
	    <div id="MIP_accordion">
	      [% FOREACH MIPexp IN CMIP6MIPs %]
	      <h3>[% MIPexp.name %] - [% MIPexp.description %]</h3>
	      <div id="MIP_table">
		<table id="[% MIPexp.name %]Table">
		  <thead>
		    <th>Case Name</th>
		    <th>Experiment Name</th>
		    <th>Designing MIP</th>
		    <th>Request Date</th>
		    <th>Archive Date</th>
		  </thead>
		  <tbody>
		    [% FOREACH exp IN MIPexp.exps.sort('expName') %]
		    <tr>
		      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
		      <td>[% exp.designMIP %]</td>
		      <td>[% exp.request_date %]</td>
		      <td>[% exp.archive_date %]</td>
		    </tr>
		    [% END %]
		  </tbody>
		</table>
	      </div>
	      [% END %]
	    </div>
	  </div>
	</div>


	<div id="DCPP">
	  <a class="show-all-applying-DCPP show-hide">show all</a>
	  <br/>
	  <br/>
	  <div class="DCPP_accordion DCPP_applying">
	    <div id="DCPP_accordion">
	      [% FOREACH DCPPexp IN CMIP6DCPPs %]
	      <h3>[% DCPPexp.name %]</h3>
	      <div id="DCPP_table">
		<table id="[% MIPexp.name %]Table">
		  <thead>
		    <th colspan="5"><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% DCPPexp.uid %].html" target="_blank">[% DCPPexp.description %]</a></th>
		  </thead>
		  <thead>
		    <th>Case Name</th>
		    <th>Experiment Name</th>
		    <th>Designing MIP</th>
		    <th>Request Date</th>
		    <th>Archive Date</th>
		  </thead>
		  <tbody>
		    [% FOREACH exp IN DCPPexp.exps %]
		    <tr>
		      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% DCPPexp.uid %].html" target="_blank">[% exp.expName %]</a></td>
		      <td>[% exp.designMIP %]</td>
		      <td>[% exp.request_date %]</td>
		      <td>[% exp.archive_date %]</td>
		    </tr>
		    [% END %]
		  </tbody>
		</table>
	      </div>
	      [% END %]
	    </div>
	  </div>
	</div>

	<div id="NAMED">
	  <table id="cmip6ExpTable" style="width: 100%; border-collapse: separate; border-spacing: 2px;">
	    <thead>
	      <tr>
		<th>Case Name</th>
		<th>Experiment Name</th>
		<th>Designing MIP</th>
		<th>Request Date</th>
		<th>Archive Date</th>
	      </tr>
	    </thead>
	    <tbody>
	      [% FOREACH exp IN CMIP6Exps %]
	      <tr>
		<td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		<td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
		<td>[% exp.designMIP %]</td>
		<td>[% exp.request_date %]</td>
		<td>[% exp.archive_date %]</td>
	      </tr>
	      [% END %]
	    </tbody>
	    <tfoot>
	      <tr>
		<th>Case Name</th>
		<th>Experiment Name</th>
		<th>Designing MIP</th>
		<th>Request Date</th>
		<th>Archive Date</th>
	      </tr>
	    </tfoot>
	  </table>
	</div>

	<div id="RESERVE_CMIP6">
	  [% INCLUDE reserveCaseCMIP6.tmpl %]
	</div>

	<div id="STATUS">
          <div style="text-align: center;" id="statusTable_buttons">
            <button id="statusBtn-show-all-children" class="btn btn-primary" type="button">Expand All</button>
            <button id="statusBtn-hide-all-children" class="btn btn-primary" type="button">Collapse All</button>
          </div>

	  <table id="statusTable" style="width: 100%">
	    <thead>
	      <tr>
		<th>Casename</th>
		<th>Experiment Name</th>
		<th>Overall Status Summary</th>
		<th class="none">Details</th>
	      </tr>
	    </thead>
	    <tbody>
	      [% FOREACH exp IN CMIP6Status %]
	      <tr>
		<td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		<td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
		<td>
		  <table>
		    <tbody>
		      <tr>
			<td>model run:  <span style="background-color:[% exp.run_color %]">[% exp.run_code %]</span></td>
			<td>st_archive: <span style="background-color:[% exp.sta_color %]">[% exp.sta_code %]</span></td>
			<td>timeseries: <span style="background-color:[% exp.ts_color %]">[% exp.ts_code %]</span></td>
			<td>conformer:  <span style="background-color:[% exp.conform_color %]">[% exp.conform_code %]</span></td>
			<td>published:  <span style="background-color:[% exp.pub_color %]">[% exp.pub_code %]</span></td>
		      </tr>
		    </tbody>
		  </table>
		</td>

		<td>
		  <table style="table-layout: fixed; width: 100%">
		    <thead>
		      <tr>
			<th style="width: 20%">model run</th>
                        <th style="width: 20%">st_archive</th>
                        <th style="width: 20%">timeseries</th>
                        <th style="width: 20%">conformer</th>
                        <th style="width: 20%">overall status</th>
		      </tr>
		    </thead>
		    <tbody>
		      <td valign="top">
			<table class="small">
			  <tbody>
			    <tr>
			      <td id="details">Last Run Date</td>
			      <td>[% exp.run_model_date %]</td>
			    </tr>
			    <tr>
			      <td id="details">Disk Usage</td>
			      <td>[% exp.run_disk_usage %]</td>
			    </tr>
			    <tr>
			      <td id="details">Cost</td>
			      <td>[% exp.run_model_cost %]</td>
			    </tr>
			    <tr>
			      <td id="details">Throughput</td>
			      <td>[% exp.run_model_throughput %]</td>
			    </tr>
			    <tr>
			      <td id="details">Last Update</td>
			      <td>[% exp.run_last_update %]</td>
			    </tr>
			  </tbody>
			</table>
		      </td>
		      <td valign="top">
			<table class="small">
			  <tr>
			    <td id="details">Last Archive Date</td>
			    <td>[% exp.sta_model_date %]</td>
			  </tr>
			  <tr>
			    <td id="details">Disk Usage</td>
			    <td>[% exp.sta_disk_usage %]</td>
			  </tr>
			  <tr>
			    <td id="details">Process Time</td>
			    <td>[% exp.sta_process_time %]</td>
			  </tr>
			  <tr>
			    <td id="details">Last Update</td>
			    <td>[% exp.sta_last_update %]</td>
			  </tr>
			</table>
		      </td>
		      <td valign="top">
			<table class="small">
			  <tr>
			    <td id="details">Last Timeseries Date</td>
			    <td>[% exp.ts_model_date %]</td>
			  </tr>
			  <tr>
			    <td id="details">Disk Usage</td>
			    <td>[% exp.ts_disk_usage %]</td>
			  </tr>
			  <tr>
			    <td id="details">Process Time</td>
			    <td>[% exp.ts_process_time %]</td>
			  </tr>
			  <tr>
			    <td id="details">Last Update</td>
			    <td>[% exp.ts_last_update %]</td>
			  </tr>
			</table>
		      </td>
		      <td valign="top">
			<table class="small">
			  <tr>
			    <td id="details">Last Conform Date</td>
			    <td>[% exp.conform_model_date %]</td>
			  </tr>
			  <tr>
			    <td id="details">Disk Usage</td>
			    <td>[% exp.conform_disk_usage %]</td>
			  </tr>
			  <tr>
			    <td id="details">Process Time</td>
			    <td>[% exp.conform_process_time %]</td>
			  </tr>
			  <tr>
			    <td id="details">Last Update</td>
			    <td>[% exp.conform_last_update %]</td>
			  </tr>
			</table>
		      </td>
		      <td valign="top">
			<table class="small">
			  <tr>
			    <td valign="top">Total Disk Usage</td>
			    <td>[% exp.total_disk_usage %]</td>
			  </tr>
			  <tr>
			    <td valign="top">Run Percent Complete</td>
			    [% IF exp.run_percent_complete > 0 %]
		            <td bgcolor="#00ff00">[% exp.run_percent_complete %]%</td>
			    [% ELSE %]
		            <td bgcolor="#ffccff">[% exp.run_percent_complete %]%</td>
			    [% END %]
			  </tr>
			  <tr>
			    <td valign="top">Archive Percent Complete</td>
			    [% IF exp.sta_percent_complete > 0 %]
		            <td bgcolor="#00ff00">[% exp.sta_percent_complete %]%</td>
			    [% ELSE %]
		            <td bgcolor="#ffccff">[% exp.sta_percent_complete %]%</td>
			    [% END %]
			  </tr>
			  <tr>
			    <td valign="top">Timeseries Percent Complete</td>
			    [% IF exp.ts_percent_complete > 0 %]
		            <td bgcolor="#00ff00">[% exp.ts_percent_complete %]%</td>
			    [% ELSE %]
		            <td bgcolor="#ffccff">[% exp.ts_percent_complete %]%</td>
			    [% END %]
			  </tr>
			  <tr>
			    <td valign="top">Conform Percent Complete</td>
			    [% IF exp.conform_percent_complete > 0 %]
		            <td bgcolor="#00ff00">[% exp.conform_percent_complete %]%</td>
			    [% ELSE %]
		            <td bgcolor="#ffccff">[% exp.conform_percent_complete %]%</td>
			    [% END %]
			  </tr>
			</table>
		      </td>
		    </tbody>
		  </table>
		</td>
	      </tr>
	      [% END %]
	    </tbody>
	    <tfoot>
	      <tr>
		<th>Casename</th>
		<th>Experiment Name</th>
		<th>Overall Status Summary</th>
		<th class="none">Details</th>
	      </tr>
	    </tfoot>
	  </table>
	</div>

	<div id="DIAGS">
          <div style="text-align: center;" id="diagsTable_buttons">
            <button id="diagsBtn-show-all-children" class="btn btn-primary" type="button">Expand All</button>
            <button id="diagsBtn-hide-all-children" class="btn btn-primary" type="button">Collapse All</button>
          </div>

	  <table id="diagsTable" style="width: 100%">
	    <thead>
	      <tr>
		<th></th>
		<th>Casename</th>
		<th>Experiment Name</th>
		<th class="none">Title</th>
		<th class="none">Diagnostics Sets</th>
	      </tr>
	    </thead>
	    
	    <tbody>
	      [% FOREACH exp IN CMIP6Diags %]
	      <tr>
		<td></td>
		<td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
		<td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
		<td style="white-space:normal;">[% exp.title %]</td>
		<td>
		  <table class="small">
		    <tbody>
		      [% FOREACH link_id IN exp.diagDetails.keys %]
		      <tr>
			<td id="details" style="text-align:right;"><strong>[% exp.diagDetails.$link_id.process %]</strong></td>
			<td id="details">Last Update: [% exp.diagDetails.$link_id.last_update %] </td>
		      </tr>
		      <tr>
			<td id="details" style="text-align:right;">Description</td>
			<td>[% exp.diagDetails.$link_id.description %]</td>
		      </tr>
		      <tr>
			<td id="details" style="text-align:right;">Link</td>
			<td><a target="_blank" href="[% exp.diagDetails.$link_id.link %]">[% exp.diagDetails.$link_id.link %]</td>
		      </tr>
		      [% END %]
		    </tbody>
		  </table>
		</td>
	      </tr>
	      [% END %]
	    </tbody>
	    <tfoot>
	      <tr>
		<th></th>
		<th>Case Name</th>
		<th>Experiment Name</th>
		<th class="none">Title</th>
		<th class="none">Diagnostics Sets</th>
	      </tr>
	    </tfoot>
	  </table>
	</div>

      </div>
    </div>

    <div id="cesm2tune">
      <table id="cesm2tuneTable">
	<thead>
	  <th>Case Name</th>
	  <th>Title</th>
	  <th>Archive Date</th>
	</thead>
	<tbody>
	  [% FOREACH exp IN cesm2tune %]
`	  <tr>
	    <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
	    <td>[% exp.title %]</td>
	    <td>[% exp.archive_date %]</td>
	  </tr>
	  [% END %]
	</tbody>
      </table>
    </div>

    <div id="cesm2exp">
      <table id="cesm2expTable">
	<thead>
	  <th>Case Name</th>
	  <th>Title</th>
	  <th>Archive Date</th>
	</thead>
	<tbody>
	  [% FOREACH exp IN cesm2exps %]
	  <tr>
	    <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
	    <td>[% exp.title %]</td>
	    <td>[% exp.archive_date %]</td>
	  </tr>
	  [% END %] 
	</tbody>
      </table>
    </div>

    <div id="projectA">
      <table id="ProjectATable">
	<thead>
	  <th>Case Name</th>
	  <th>Title</th>
	  <th>Archive Date</th>
	</thead>
	<tbody>
	  [% FOREACH exp IN projectA %]
	  <tr>
	    <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
	    <td>[% exp.title %]</td>
	    <td>[% exp.archive_date %]</td>
	  </tr>
	  [% END %]
	</tbody>
      </table>
    </div>

    <div id="projectB">
      <table id="ProjectBTable">
	<thead>
	  <th>Case Name</th>
	  <th>Title</th>
	  <th>Archive Date</th>
	</thead>
	<tbody>
	  [% FOREACH exp IN projectB %]
	  <tr>
	    <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]">[% exp.casename %]</a></td>
	    <td>[% exp.title %]</td>
	    <td>[% exp.archive_date %]</td>
	  </tr>
	  [% END %]
	</tbody>
      </table>
    </div>

</body>
</html>

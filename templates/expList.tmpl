<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">	
    <title>CESM2 Experiment Database</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="description" content="CESM2 Experiment Database"/>
    <meta name="keywords"    content="CESM Software Engineering Working Group"/>

    <style type="text/css" media="screen">
      /*@import "/styles/cesm.css";
      @import "/styles/teststyles.css";
      @import "/svnuser/css/svnuser.css";
      @import "/jqueryui/development-bundle/demos/demos.css";
      @import "/jqueryui/css/redmond/jquery-ui-1.8.23.custom.css";
      @import "/jquerydt/DataTables-1.9.3/media/css/jquery.dataTables.css";*/
    </style>

    <style>
      #details { 
      background-color: #c5edcb; 
      }
      .alert:hover {
      cursor: pointer;
      }
      table {
      width: 100%;
      }
      .dtr-details {
      width: 100%;
      }
      table.dataTable tbody.tbody-timing td {
      padding: 0px;
      }
      #wrapper {
      display: block;
      }
    </style>

    [% INCLUDE 'modern/css/css-include.html' %]
    <style>
      [% INCLUDE 'modern/css/datatables.min.css' %]
      [% INCLUDE 'modern/skins/default.css' %]

      #inner-headline nav ul.dropdown-menu li a {
      color:#000;
      }

      .tab-content {
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
      border-bottom: 1px solid #ddd;
      }

      .tab-pane {
      
      }

      .nav-sub {
      padding: 10px;
      background-color: #3E6A9C;
      }

      .nav-sub > li > a {
      border-radius: 4px;
      color: #fff;
      }

      .nav-sub > li > a:hover {
      background-color:#fff;
      color: #000;
      }

      .tab-pane {
      /*min-height: 330px;*/
      }


      .panel-group .panel {
      border-radius: 0px;
      border-left: 0px;
      border-right: 0px;
      }

      .panel-group .panel + .panel {
      margin-top: 0px;
      }

    </style>
  </head>

  <body style="">
    <div id="wrapper">
      <header>
	<div class="navbar navbar-default navbar-static-top">
	  <div class="container">
	    [% INCLUDE 'modern/includes/header/navbar-header.html' %]
	    [% INCLUDE 'modern/includes/header/search.html' %]
	    [% INCLUDE 'modern/includes/header/nsf-header.html' %]
	    [% INCLUDE 'modern/includes/navigation/models-nav.html' %]
	  </div>
	</div>
      </header>

      <section id="inner-headline">
	<div class="container">
	  <div class="row">
	    <div class="col-lg-12">
	      <ul class="breadcrumb">
		<li><a href="http://www.cesm.ucar.edu/index.html"><i class="fa fa-home"></i></a><i class="icon-angle-right"></i></li>
		<li><a href="http://www.cesm.ucar.edu/models/">CESM Models</a><i class="icon-angle-right"></i></li>
		<li><a href="/">CSEG Web Apps</a><i class="icon-angle-right"></i></li>
		<li class="active">Experiment Database</li>
	      </ul>

	      [% INCLUDE nav.tmpl %]
	    </div>
	  </div>
	</div>
      </section>

      <!-- content start  -->
      <section id="content">
	<div class="container">
	  <div class="row visible-sm-block text-center hidden-md hidden-lg"><h3>Not designed for mobile viewing, please open on a desktop</h3></div>

	  <div class="row hidden-sm hidden-xs">
	    <div class="col-lg-12">
	      <div class="post-image">
		<div class="post-heading">
                  <h1>CESM2 Experiment Database</h1>
		</div>
              </div>

	      <p class="lead">The purpose of this project is to provide a single web portal to store metadata for CESM experiments including tracking run status, viewing diagnostics, and adding publication links.</p>

	      [% IF validstatus.status == 0 %]
	      <div class="alert alert-danger text-center" role="alert">
		<span class=""><strong>Reserve a Casename Errors:</strong>&nbsp;[% validstatus.message %]</span>
	      </div>
	      [% END %]

	      <div id="dashtabs-og-name">
		<ul id="dashTabs" class="nav nav-tabs small" role="tablist">
		  <li role="presentation" class="active"><a data-toggle="tab" role="tab" href="#cmip6exp" id="cmip6exp-tab">CESM2 / CMIP6 Experiments</a></li>
		  <li role="presentation"><a data-toggle="tab" role="tab" href="#cesm2tune" id="cesm2tune-tab">CESM2.0 Release Experiments</a></li>
		  <li role="presentation"><a data-toggle="tab" role="tab" href="#cesm2exp" id="cesm2exp-tab">CESM2 Production Experiments</a></li>
		  <li role="presentation"><a data-toggle="tab" role="tab" href="#projectA" id="projectA-tab">CESM2 Project A Experiments (TBD)</a></li>
		  <li role="presentation"><a data-toggle="tab" role="tab" href="#projectB" id="projectB-tab">CESM2 Project B Experiments (TBD)</a></li>
		</ul>

		<div class="tab-content" id="dashTabContent">

		  <!-- tab box for cmip6exp start -->
		  <div class="tab-pane fade in active" role="tabpanel" id="cmip6exp" aria-labelledby="cmip6exp-tab"> 

		    <ul class="nav nav-tabs small nav-sub" role="tablist">
		      <li role="presentation" class="active"><a style="padding: 5px;" data-toggle="tab" role="tab" id="DECK-tab" href="#DECK">DECK Experiments</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="MIP-tab" href="#MIP">MIP Experiments</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="DCPP-tab" href="#DCPP">Decadal Prediction Experiments</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="NAMED-tab" href="#NAMED">Experiments by Name</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="RESERVE_CMIP6-tab" href="#RESERVE_CMIP6">Reserve a CMIP6 Case Name</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="STATUS-tab" href="#STATUS">Overall Experiment Status</a></li>
		      <li role="presentation"><a style="padding: 5px;" data-toggle="tab" role="tab" id="DIAGS-tab" href="#DIAGS">Overall Experiment Diagnostics</a></li>
		    </ul>

		    <div class="tab-content" id="dashTabContent2">
		      <div class="tab-pane fade in active" role="tabpanel" id="DECK" aria-labelledby="DECK-tab">
			<div class="row" style="margin-bottom: 10px;">
			  <div class="col-lg-12 text-center" style="padding-top: 10px;">
			    <button type="button" class="btn btn-default btn-sm btn-show-DECK">
			      <i class="fa fa-folder-open"></i> Show / Hide All
			    </button>
			    <small><em>&nbsp;&nbsp;&nbsp;or select an option below</em></small>
			  </div>
			</div>

			<div class="panel-group" id="accordion-DECK" role="tablist" aria-multiselectable="true">
			  [% FOREACH DECKexp IN CMIP6DECKs %]
			  <div class="panel panel-default">
			    <div class="panel-heading" role="tab" id="[% DECKexp.name %]Header">
			      <h4 class="panel-title">
				<a class="collapsed accordion-toggle" role="button" data-toggle="collapse" data-parent="#accordion-DECK" href="#[% DECKexp.name %]Collapse" aria-expanded="false" aria-controls="[% DECKexp.name %]Collapse">
				  [% DECKexp.name %] - [% DECKexp.description %]
				</a>
			      </h4>
			    </div>

			    <div id="[% DECKexp.name %]Collapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="[% DECKexp.cmip6_exp %]Header">
			      <div class="panel-body">
				<table class="table table-striped table-condensed" id="[% DECKexp.cmip6_exp %]Table">
				  <thead>
				    <th>ID</th>
				    <th>Case Name</th>
				    <th>CESM Experiment Name</th>
				    <th>Designing MIP</th>
				    <th>Request Date</th>
				    <th>Archive Date</th>
				  </thead>
				  <tbody>
				    [% FOREACH exp IN DECKexp.exps %]
				    <tr>
				      <td>[% exp.case_id %]</td>
				      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
				      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
				      <td>[% exp.designMIP %]</td>
				      <td>[% exp.request_date %]</td>
				      <td>[% exp.archive_date %]</td>
				    </tr>
				    [% END %]
				  </tbody>
				</table>
			      </div>
			    </div>
			  </div>
			  [% END %]
			</div>
		      </div>

		      <div class="tab-pane fade" role="tabpanel" id="MIP" aria-labelledby="MIP-tab">
			<div class="row" style="margin-bottom: 10px;">
			  <div class="col-lg-12 text-center" style="padding-top: 10px;">
			    <button type="button" class="btn btn-default btn-sm btn-show-MIP">
			      <i class="fa fa-folder-open"></i> Show / Hide All
			    </button>
			    <small><em>&nbsp;&nbsp;&nbsp;or select an option below</em></small>
			  </div>
			</div>

			<div class="panel-group" id="accordion-MIP" role="tablist" aria-multiselectable="true">
			  [% FOREACH MIPexp IN CMIP6MIPs %]
			  <div class="panel panel-default">
			    <div class="panel-heading" role="tab" id="[% MIPexp.name %]Header">
			      <h4 class="panel-title">
				<a class="collapsed accordion-toggle" role="button" data-toggle="collapse" data-parent="#accordion-MIP" href="#[% MIPexp.name %]Collapse" aria-expanded="false" aria-controls="[% MIPexp.name %]Collapse">
				  [% MIPexp.name %] - [% MIPexp.description %]
				</a>
			      </h4>
			    </div>

			    <div id="[% MIPexp.name %]Collapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="[% MIPexp.cmip6_exp %]Header">
			      <div class="panel-body">
				<table class="table table-striped table-condensed" id="[% MIPexp.name %]Table">
				  <thead>
				    <th>ID</th>
				    <th>Case Name</th>
				    <th>Experiment Name</th>
				    <th>Designing MIP</th>
				    <th>Request Date</th>
				    <th>Archive Date</th>
				  </thead>
				  <tbody>
				    [% FOREACH exp IN MIPexp.exps.sort('expName') %]
				    <tr>
				      <td>[% exp.case_id %]</td>				      
				      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
				      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
				      <td>[% exp.designMIP %]</td>
				      <td>[% exp.request_date %]</td>
				      <td>[% exp.archive_date %]</td>
				    </tr>
				    [% END %]
				  </tbody>
				</table>
			      </div>
			    </div>
			  </div>
			  [% END %]
			</div>
		      </div>


		      <div class="tab-pane fade" role="tabpanel" id="DCPP" aria-labelledby="DCPP-tab">
			<div class="row" style="margin-bottom: 10px;">
			  <div class="col-lg-12 text-center" style="padding-top: 10px;">
			    <button type="button" class="btn btn-default btn-sm btn-show-DCPP">
			      <i class="fa fa-folder-open"></i> Show / Hide All
			    </button>
			    <small><em>&nbsp;&nbsp;&nbsp;or select an option below</em></small>
			  </div>
			</div>

			

			<div class="panel-group" id="accordion-DCPP" role="tablist" aria-multiselectable="true">
			  [% FOREACH DCPPexp IN CMIP6DCPPs %]
			  <div class="panel panel-default">
			    <div class="panel-heading" role="tab" id="[% DCPPexp.name %]Header">
			      <h4 class="panel-title">
				<a class="collapsed accordion-toggle" role="button" data-toggle="collapse" data-parent="#accordion-DCPP" href="#[% DCPPexp.name %]Collapse" aria-expanded="false" aria-controls="[% DCPPexp.name %]Collapse">
				  [% DCPPexp.name %]
				</a>
			      </h4>
			    </div>

			    <div id="[% DCPPexp.name %]Collapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="[% DCPPexp.name %]Header">
			      <div class="panel-body">
				<div class="well well-sm">
				  <span class="label label-warning">More Info:</span>
				  <small>[% DCPPexp.description %]</small>
				  <br>
				  <a class="" href="http://clipc-services.ceda.ac.uk/dreq/u/[% DCPPexp.uid %].html" target="_blank"><span class="label label-info">Link</span> http://clipc-services.ceda.ac.uk/dreq/u/[% DCPPexp.uid %].html</a>
				</div>

				<table class="table table-striped table-condensed" id="[% DCPPexp.name %]Table">
				  <thead>
				    <th>ID</th>
				    <th>Case Name</th>
				    <th>Experiment Name</th>
				    <th>Designing MIP</th>
				    <th>Request Date</th>
				    <th>Archive Date</th>
				  </thead>

				  <tbody>
				    [% FOREACH exp IN DCPPexp.exps %]
				    <tr>
				      <td>[% exp.case_id %]</td>
				      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
				      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% DCPPexp.uid %].html" target="_blank">[% exp.expName %]</a></td>
				      <td>[% exp.designMIP %]</td>
				      <td>[% exp.request_date %]</td>
				      <td>[% exp.archive_date %]</td>
				    </tr>
				    [% END %]
				  </tbody>
				</table>
			      </div>
			    </div>
			  </div>
			  [% END %]
			</div>
		      </div>

		      <div class="tab-pane fade" role="tabpanel" id="NAMED" aria-labelledby="NAMED-tab">
			<br/>
			<table id="cmip6ExpTable" class="table table-striped table-condensed" style="width: 100%;">
			  <thead>
			    <tr>
			      <th>ID</th>
			      <th>Case Name</th>
			      <th>Experiment Name</th>
			      <th>Designing MIP</th>
			      <th>Request Date</th>
			      <th>Archive Date</th>
			    </tr>
			  </thead>

			  <tbody>
			    [% FOREACH exp IN CMIP6Exps %]
			    <tr>
			      <td>[% exp.case_id %]</td>
			      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
			      <td>[% exp.designMIP %]</td>
			      <td>[% exp.request_date %]</td>
			      <td>[% exp.archive_date %]</td>
			    </tr>
			    [% END %]
			  </tbody>

			  <tfoot>
			    <tr>
			      <td>ID</td>
			      <th>Case Name</th>
			      <th>Experiment Name</th>
			      <th>Designing MIP</th>
			      <th>Request Date</th>
			      <th>Archive Date</th>
			    </tr>
			  </tfoot>
			</table>
		      </div>


		      <div class="tab-pane fade" role="tabpanel" id="RESERVE_CMIP6" aria-labelledby="RESERVE_CMIP6-tab">
			[% INCLUDE reserveCaseCMIP6.tmpl %]
		      </div>

		      <!-- overall experiment status start -->
		      <div class="tab-pane fade" role="tabpanel" id="STATUS" aria-labelledby="STATUS-tab">
			<div class="row" style="margin-bottom: 10px;">
			  <div class="col-lg-12 text-center" style="padding-top: 10px;">
			    <button type="button" class="btn btn-default btn-sm" id="statusBtn-show-all-children">
			      <i class="fa fa-folder-open"></i> Show All
			    </button>

			    <button type="button" class="btn btn-default btn-sm" id="statusBtn-hide-all-children">
			      <i class="fa fa-folder-open"></i> Hide All
			    </button>
			  </div>
			</div>


			<table id="statusTable" class="table table-striped table-condensed" style="width: 100%;">
			  <thead>
			    <tr>
			      <th></th>
			      <th>ID</th>
			      <th>Casename</th>
			      <th>Experiment Name</th>
			      <th>Overall Status Summary</th>
			      <th class="none">Details</th>
			    </tr>
			  </thead>

			  <tbody>
			    [% FOREACH exp IN CMIP6Status %]
			    <tr>
			      <td></td>
			      <td>[% exp.case_id %]</td>
			      <td>
				<a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a>
			      </td>
			      <td>
				<a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a>
			      </td>
			      <td>
				<table>
				  <tbody>
				    <tr>
				      <td>
					<small>
					  model run:<br>
					  [% IF exp.run_code == "Succeeded" %]
					  <span class="label label-info">[% exp.run_code %]</span>
					  [% END %]
					  [% IF exp.run_code == "Unknown" %]
					  <span class="label label-default">[% exp.run_code %]</span>
					  [% END %]
					  [% IF exp.run_code == "Started" %]
					  <span class="label label-success">[% exp.run_code %]</span>
					  [% END %]
					  [% IF exp.run_code == "Failed" %]
					  <span class="label label-danger">[% exp.run_code %]</span>
					  [% END %]
					</small>
				      </td>

				      <td>
					<small>
					  st_archive:<br>
					  [% IF exp.sta_code == "Succeeded" %]
					  <span class="label label-info">[% exp.sta_code %]</span>
					  [% END %]
					  [% IF exp.sta_code == "Unknown" %]
					  <span class="label label-default">[% exp.sta_code %]</span>
					  [% END %]
					  [% IF exp.sta_code == "Started" %]
					  <span class="label label-success">[% exp.sta_code %]</span>
					  [% END %]
					  [% IF exp.sta_code == "Failed" %]
					  <span class="label label-danger">[% exp.sta_code %]</span>
					  [% END %]
					</small>
				      </td>

				      <td>
					<small>
					  timeseries:<br>
					  [% IF exp.ts_code == "Succeeded" %]
					  <span class="label label-info">[% exp.ts_code %]</span>
					  [% END %]
					  [% IF exp.ts_code == "Unknown" %]
					  <span class="label label-default">[% exp.ts_code %]</span>
					  [% END %]
					  [% IF exp.ts_code == "Started" %]
					  <span class="label label-success">[% exp.ts_code %]</span>
					  [% END %]
					  [% IF exp.ts_code == "Failed" %]
					  <span class="label label-danger">[% exp.ts_code %]</span>
					  [% END %]
					</small>
				      </td>

				      <td>
					<small>
					  conformer:<br>
					  [% IF exp.conform_code == "Succeeded" %]
					  <span class="label label-info">[% exp.conform_code %]</span>
					  [% END %]
					  [% IF exp.conform_code == "Unknown" %]
					  <span class="label label-default">[% exp.conform_code %]</span>
					  [% END %]
					  [% IF exp.conform_code == "Started" %]
					  <span class="label label-success">[% exp.conform_code %]</span>
					  [% END %]
					  [% IF exp.conform_code == "Failed" %]
					  <span class="label label-danger">[% exp.conform_code %]</span>
					  [% END %]
					</small>
				      </td>

				      <td>
					<small>
					  published:<br>
					  [% IF exp.pub_code == "Verified" %]
					  <span class="label label-primary">[% exp.pub_code %]</span>
					  [% END %]
					  [% IF exp.pub_code == "Succeeded" %]
					  <span class="label label-info">[% exp.pub_code %]</span>
					  [% END %]
					  [% IF exp.pub_code == "Unknown" %]
					  <span class="label label-default">[% exp.pub_code %]</span>
					  [% END %]
					  [% IF exp.pub_code == "Started" %]
					  <span class="label label-success">[% exp.pub_code %]</span>
					  [% END %]
					  [% IF exp.pub_code == "Failed" %]
					  <span class="label label-danger">[% exp.pub_code %]</span>
					  [% END %]
					</small>
				      </td>
				    </tr>
				  </tbody>
				</table>
			      </td>

			      <td>
				<table style="table-layout: fixed; width: 100%" class="table table-condensed">
				  <thead>
				    <tr>
				      <th class="active">model run</th>
				      <th class="active">st_archive</th>
				      <th class="active">timeseries</th>
				      <th class="active">conformer</th>
				      <th class="active">ESGF published</th>
				      <th class="active">overall status</th>
				    </tr>
				  </thead>

				  <tbody>
				    <td>
				      <table class="table table-condensed table-striped small">
					<tbody>
					  <tr>
					    <td id="details">Disk Usage</td>
					    <td>[% exp.run_disk_usage %] MB</td>
					  </tr>
					  <tr>
					    <td id="details">Last Run Date</td>
					    <td>[% exp.run_model_date %]</td>
					  </tr>
					  <tr>
					    <td id="details">Last Update</td>
					    <td>[% exp.run_last_update %]</td>
					  </tr>
					  <tr>
					    <td colspan="2"><b>[% exp.run_model_cost %]</b></td>
					  </tr>
					  <tr>
					    <td colspan="2"><b>[% exp.run_model_throughput %]</b></td>
					  </tr>
					</tbody>
				      </table>
				    </td>

				    <td>
				      <table class="table table-condensed table-striped small">
					<tr>
					  <td id="details">Disk Usage</td>
					  <td>[% exp.sta_disk_usage %] MB</td>
					</tr>
					<tr>
					  <td id="details">Last Archive Date</td>
					  <td>[% exp.sta_model_date %]</td>
					</tr>
					<tr>
					  <td id="details">Process Time</td>
					  <td>[% exp.sta_process_time %]</td>
					</tr>
					<tr>
					  <td id="details">Last Update</td>
					  <td>[% exp.sta_last_update %]</td>
					</tr>
				      </table>
				    </td>

				    <td>
				      <table class="table table-condensed table-striped small">
					<tr>
					  <td id="details">Disk Usage</td>
					  <td>[% exp.ts_disk_usage %] MB</td>
					</tr>
					<tr>
					  <td id="details">Last Timeseries Date</td>
					  <td>[% exp.ts_model_date %]</td>
					</tr>
					<tr>
					  <td id="details">Process Time</td>
					  <td>[% exp.ts_process_time %]</td>
					</tr>
					<tr>
					  <td id="details">Last Update</td>
					  <td>[% exp.ts_last_update %]</td>
					</tr>
				      </table>
				    </td>

				    <td>
				      <table class="table table-condensed table-striped small">
					<tr>
					  <td id="details">Disk Usage</td>
					  <td>[% exp.conform_disk_usage %] MB</td>
					</tr>
					<tr>
					  <td id="details">Last Conform Date</td>
					  <td>[% exp.conform_model_date %]</td>
					</tr>
					<tr>
					  <td id="details">Process Time</td>
					  <td>[% exp.conform_process_time %]</td>
					</tr>
					<tr>
					  <td id="details">Last Update</td>
					  <td>[% exp.conform_last_update %]</td>
					</tr>
				      </table>
				    </td>

				    <td>
				      <table class="table table-condensed table-striped small">
					<tr>
					  <td id="details">Disk Usage</td>
					  <td>[% exp.pub_disk_usage %] MB</td>
					</tr>
					<tr>
					  <td id="details">Last Update</td>
					  <td>[% exp.pub_last_update %]</td>
					</tr>
				      </table>
				    </td>

				    <td>
				      <table class="table table-condensed table-striped small">
					<tr>
					  <td valign="top">Total Disk Usage<br/>(excluding ESGF)</td>
					  <td>[% exp.total_disk_usage %] MB</td>
					</tr>
					<tr>
					  <td valign="top">Run Percent Complete</td>
					  [% IF exp.run_percent_complete > 0 %]
					  <td bgcolor="#00ff00">[% exp.run_percent_complete %]%</td>
					  [% ELSE %]
					  <td bgcolor="#ffccff">[% exp.run_percent_complete %]%</td>
					  [% END %]
					</tr>
					<tr>
					  <td valign="top">Archive Percent Complete</td>
					  [% IF exp.sta_percent_complete > 0 %]
					  <td bgcolor="#00ff00">[% exp.sta_percent_complete %]%</td>
					  [% ELSE %]
					  <td bgcolor="#ffccff">[% exp.sta_percent_complete %]%</td>
					  [% END %]
					</tr>
					<tr>
					  <td valign="top">Timeseries Percent Complete</td>
					  [% IF exp.ts_percent_complete > 0 %]
					  <td bgcolor="#00ff00">[% exp.ts_percent_complete %]%</td>
					  [% ELSE %]
					  <td bgcolor="#ffccff">[% exp.ts_percent_complete %]%</td>
					  [% END %]
					</tr>
					<tr>
					  <td valign="top">Conform Percent Complete</td>
					  [% IF exp.conform_percent_complete > 0 %]
					  <td bgcolor="#00ff00">[% exp.conform_percent_complete %]%</td>
					  [% ELSE %]
					  <td bgcolor="#ffccff">[% exp.conform_percent_complete %]%</td>
					  [% END %]
					</tr>
				      </table>
				    </td>
				  </tbody>
				</table>
			      </td>
			    </tr>
			    [% END %]
			  </tbody>

			  <tfoot>
			    <tr>
			      <th></th>
			      <th>ID</th>
			      <th>Casename</th>
			      <th>Experiment Name</th>
			      <th>Overall Status Summary</th>
			      <th class="none">Details</th>
			    </tr>
			  </tfoot>
			</table>
		      </div>
		      <!-- overall experiment status end -->


		      <div class="tab-pane fade" role="tabpanel" id="DIAGS" aria-labelledby="DIAGS-tab">
			<div class="row" style="margin-bottom: 10px;">
			  <div class="col-lg-12 text-center" style="padding-top: 10px;">
			    <button type="button" class="btn btn-default btn-sm" id="diagsBtn-show-all-children">
			      <i class="fa fa-folder-open"></i> Show All
			    </button>

			    <button type="button" class="btn btn-default btn-sm" id="diagsBtn-hide-all-children">
			      <i class="fa fa-folder-open"></i> Hide All
			    </button>
			  </div>
			</div>

			<table id="diagsTable" class="table table-striped table-condensed" style="width: 100%;">
			  <thead>
			    <tr>
			      <th></th>
			      <th>ID</th>
			      <th>Casename</th>
			      <th>Experiment Name</th>
			      <th class="none">Title</th>
			      <th class="none">Diagnostics Sets</th>
			    </tr>
			  </thead>

			  <tbody>
			    [% FOREACH exp IN CMIP6Diags %]
			    <tr>
			      <td></td>
			      <td>[% exp.case_id %]</td>
			      <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			      <td><a href="http://clipc-services.ceda.ac.uk/dreq/u/[% exp.cmip6_exp_uid %].html" target="_blank">[% exp.expName %]</a></td>
			      <td style="white-space:normal;">[% exp.title %]</td>
			      <td>
				<table class="table table-condensed table-striped small" width="100%">
				  <tbody>
				    [% FOREACH link_id IN exp.diagDetails.keys %]
				    <tr>
				      <td id="details" style="text-align:right;"><strong>[% exp.diagDetails.$link_id.process %]</strong></td>
				      <td id="details">Last Update: [% exp.diagDetails.$link_id.last_update %] </td>
				    </tr>
				    <tr>
				      <td id="details" style="text-align:right;">Description</td>
				      <td>[% exp.diagDetails.$link_id.description %]</td>
				    </tr>
				    <tr>
				      <td id="details" style="text-align:right;">Link</td>
				      <td><a target="_blank" href="[% exp.diagDetails.$link_id.link %]">[% exp.diagDetails.$link_id.link %]</td>
				    </tr>
				    [% END %]
				  </tbody>
				</table>
			      </td>
			    </tr>
			    [% END %]
			  </tbody>
			  <tfoot>
			    <tr>
			      <th></th>
			      <th>ID</th>
			      <th>Case Name</th>
			      <th>Experiment Name</th>
			      <th class="none">Title</th>
			      <th class="none">Diagnostics Sets</th>
			    </tr>
			  </tfoot>
			</table>
		      </div>

		    </div>

		  </div>
		  <!-- tab box for cmip6exp end -->



		  <!-- tab box for cesm2tune start -->
		  <div class="tab-pane fade" role="tabpanel" id="cesm2tune" aria-labelledby="cesm2tune-tab"> 
		    <table id="cesm2tuneTable" class="table table-striped table-condensed" style="width: 100%;">
		      <thead>
			<th>Case Name</th>
			<th>Title</th>
			<th>Archive Date</th>
		      </thead>
		      <tbody>
			[% FOREACH exp IN cesm2tune %]
			<tr>
			  <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			  <td>[% exp.title %]</td>
			  <td>[% exp.archive_date %]</td>
			</tr>
			[% END %]
		      </tbody>
		    </table>
		  </div>
		  <!-- tab box for cesm2tune end -->



		  <!-- tab box for cesm2exp start -->
		  <div class="tab-pane fade" role="tabpanel" id="cesm2exp" aria-labelledby="cesm2exp-tab"> 
		    <table id="cesm2expTable" class="table table-striped table-condensed" style="width: 100%;">
		      <thead>
			<th>Case Name</th>
			<th>Title</th>
			<th>Archive Date</th>
		      </thead>
		      <tbody>
			[% FOREACH exp IN cesm2exps %]
			<tr>
			  <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			  <td>[% exp.title %]</td>
			  <td>[% exp.archive_date %]</td>
			</tr>
			[% END %] 
		      </tbody>
		    </table>
		  </div>
		  <!-- tab box for cesm2exp end -->



		  <!-- tab box for projectA start -->
		  <div class="tab-pane fade" role="tabpanel" id="projectA" aria-labelledby="projectA-tab"> 
		    <table id="ProjectATable" class="table table-striped table-condensed" style="width: 100%;">
		      <thead>
			<th>Case Name</th>
			<th>Title</th>
			<th>Archive Date</th>
		      </thead>
		      <tbody>
			[% FOREACH exp IN projectA %]
			<tr>
			  <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			  <td>[% exp.title %]</td>
			  <td>[% exp.archive_date %]</td>
			</tr>
			[% END %]
		      </tbody>
		    </table>
		  </div>
		  <!-- tab box for projectA end -->


		  <!-- tab box for projectB start -->
		  <div class="tab-pane fade" role="tabpanel" id="projectB" aria-labelledby="projectB-tab"> 
		    <table id="ProjectBTable" class="table table-striped table-condensed" style="width: 100%;">
		      <thead>
			<th>Case Name</th>
			<th>Title</th>
			<th>Archive Date</th>
		      </thead>
		      <tbody>
			[% FOREACH exp IN projectB %]
			<tr>
			  <td><a href="/expdb2.0/cgi-bin/expList.cgi?action=showCaseDetail&case_id=[% exp.case_id %]" target="_blank">[% exp.casename %]</a></td>
			  <td>[% exp.title %]</td>
			  <td>[% exp.archive_date %]</td>
			</tr>
			[% END %]
		      </tbody>
		    </table>
		  </div>
		  <!-- tab box for projectB enc -->
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </section>

      <!-- footer start -->
      <footer>        
	[% INCLUDE 'modern/includes/footer/footer-inc.html' %]
      </footer>
      <!-- footer end -->

      <a href="#" class="scrollup"><i class="fa fa-angle-up active"></i></a>

      [% INCLUDE 'modern/js/js-include.html' %]

      <script>
	[% INCLUDE 'modern/js/datatables.min.js' %]

	var cmip6ExpTable = $('#cmip6ExpTable').DataTable({
	"responsive": true,
	"lengthMenu": [ [50, 100, -1], [50, 100, "All"] ],
	"order": [ [ 0, 'dsc'] ]
	});


	var statusTable = $('#statusTable').DataTable({
	"responsive": true,
	"lengthMenu": [ [25, 50, -1], [25, 50, "All"] ],
	"order": [ [ 0, 'asc'] ]
	});

	// Handle click on "Expand All" button
	$('button#statusBtn-show-all-children').on('click', function(){
	// Expand row details
	statusTable.rows(':not(.parent)').nodes().to$().find('td:first-child').trigger('click');
	});

	// Handle click on "Collapse All" button
	$('button#statusBtn-hide-all-children').on('click', function(){
	// Collapse row details
	statusTable.rows('.parent').nodes().to$().find('td:first-child').trigger('click');
	});


	var diagsTable = $('#diagsTable').DataTable( {
	"responsive": true,
	"lengthMenu": [ [25, 50, -1], [25, 50, "All"] ],
	"order": [ [ 0, 'asc'] ]
	} );

	// Handle click on "Expand All" button
	$('button#diagsBtn-show-all-children').on('click', function(){
	// Expand row details
	diagsTable.rows(':not(.parent)').nodes().to$().find('td:first-child').trigger('click');
	});

	// Handle click on "Collapse All" button
	$('button#diagsBtn-hide-all-children').on('click', function(){
	// Collapse row details
	diagsTable.rows('.parent').nodes().to$().find('td:first-child').trigger('click');
	});

	$('.btn-show-DECK').on('click', function () {
	$('#accordion-DECK .panel-collapse').collapse('toggle');
	});

	$('.btn-show-MIP').on('click', function () {
	$('#accordion-MIP .panel-collapse').collapse('toggle');
	});

	$('.btn-show-DCPP').on('click', function () {
	$('#accordion-DCPP .panel-collapse').collapse('toggle');
	});
      </script>
    </div>
  </body>
</html>
